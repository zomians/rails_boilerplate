# ==============================================
# 本番環境設定（compose.production.yaml想定）
# VPS上でDocker Composeを使用する場合の設定
# ==============================================

# Ruby version
RUBY_VERSION=3.3.6

# Rails version  
RAILS_VERSION=8.0.4

# PostgreSQL version
POSTGRES_VERSION=16-bookworm

# ==============================================
# Database configuration (本番環境用)
# compose.production.yamlのdbサービスに接続
# ==============================================
POSTGRES_HOST=db
POSTGRES_PORT=5432
POSTGRES_USER=rails
POSTGRES_PASSWORD=change-this-password
POSTGRES_DB=app_production

# DATABASE_URL (Rails が自動的に使用)
DATABASE_URL=postgres://${POSTGRES_USER}:${POSTGRES_PASSWORD}@${POSTGRES_HOST}:${POSTGRES_PORT}/${POSTGRES_DB}

# ==============================================
# Rails configuration (本番環境用)
# ==============================================
RAILS_ENV=production

# SECRET_KEY_BASE (必須：本番環境用シークレットキー)
# 生成方法: docker compose -f compose.production.yaml run --rm app bundle exec rails secret
SECRET_KEY_BASE=change-this-to-generated-secret-key-base

# ログ設定
RAILS_LOG_TO_STDOUT=true
RAILS_LOG_LEVEL=info

# 静的ファイル配信（CDNを使わない場合はtrue）
RAILS_SERVE_STATIC_FILES=true

# Puma設定
RAILS_MAX_THREADS=5
WEB_CONCURRENCY=2

# ポート設定
PORT=3000

# ロケール設定
LANG=ja_JP.UTF-8

# ==============================================
# App name
# ==============================================
APP_NAME=app
